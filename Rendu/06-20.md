​                                                           

# ***Rendu du 20 juin 2019 :***

- Ajout de commandes pour sauvegarder ou charger une partie (Méthode jeu() de *Humain* et start(), fin() de *Partie*). Egalement, correction de bugs rencontrés dans la méthode charger(), writeFile() et readFile().

- Modification de la méthode configuration() de la classe *Partie*.

- Correction *DownButtonListener*. Cette correction permet de revenir en arrière sur toutes les fenêtres qui comprennent un bouton **Retour**.

- Implémentation des classes *ChoixNombreFrame*, *Partie2JoueursFrame*, *Partie4JoueursFrame*, *PauseFrame*, *SauvegarderPauseFrame*, *SauvegarderQuitterPauseFrame* et *ChargementPauseFrame*.

- Modification de la classe *MainPauseFrame*.

- Ajout d'un sous package de **quoridor**, nommé **dijkstra**. Ce package permet de gérer les classes utilisés pour calculer le plus court chemin d'un pion.

- Ajout des classes *Graphe* et *Noeud*. Ces deux classes sont utilisées pour calculer le chemin le plus court d'un pion pour gagner.

- Création des fichiers de sauvegarde n°2 et 3.

   

 

**Classes modifiées :**

*Classe Humain*

```java
public Barriere jeu() {
      Barriere ret = null;
      try {
        int[][] deplacementsPossibles = this.pion.getDeplacementPossibles(this.plateau.getDamier());
        String nPosition = this.scanner.nextLine();
        boolean ok = false;
        ArrayList<String> letters = new ArrayList<String>();
        letters.add("A");
        letters.add("B");
        letters.add("C");
        letters.add("D");
        letters.add("E");
        letters.add("F");
        letters.add("G");
        letters.add("H");
        letters.add("I");
        while (!ok) {
          if (nPosition.trim().equalsIgnoreCase("help")) {
            ArrayList<String> help = RWFile.readFile("README");
            for (String line : help) {
              System.out.println(line);
            }
          }
          else if (nPosition.split(" ")[0].trim().equalsIgnoreCase("save")) {
            String nb = nPosition.split(" ")[1].trim();
            if (nb.equalsIgnoreCase("1") || nb.equalsIgnoreCase("2") || nb.equalsIgnoreCase("3")) {
              ret = new Barriere(nPosition,this.plateau);
              ok = true;
            }
          }
          else if (nPosition.split(" ")[0].trim().equalsIgnoreCase("load")) {
            String nb = nPosition.split(" ")[1].trim();
            if (nb.equalsIgnoreCase("1") || nb.equalsIgnoreCase("2") || nb.equalsIgnoreCase("3")) {
              ret = new Barriere(nPosition,this.plateau);
              ok = true;
            }
          }
          else if (nPosition.trim().equalsIgnoreCase("showme")) {
            System.out.println("Nom du joueur : " + this.nom);
            System.out.println("Pion : " + this.pion.getCouleur().charAt(0));
            System.out.println("Barrieres restantes : " + this.barrieres.size());
          }
          else if (nPosition.trim().equalsIgnoreCase("back")) {
            ret = new Barriere(nPosition.trim(),this.plateau);
            ok = true;
          }
          else if (nPosition.split(" ")[0].trim().equalsIgnoreCase("move")) {
            for (int[] deplacement : deplacementsPossibles) {
              int x1 = (letters.indexOf(nPosition.split(" ")[1].split(",")[1].trim().split("")[0])) * 2;
              int y1 = (Integer.parseInt(nPosition.split(" ")[1].split(",")[0].trim().split("")[1]) - 1) * 2;
              if (deplacement[0] == x1) {
                if (deplacement[1] == y1) {
                  deplacerPion(new Coordonnee(x1,y1,-1,-1),this.plateau.getDamier());
                  ok = true;
                }
              }
            }
            if (!ok) {
              System.out.println("Impossible de déplacer le pion à cet endroit");
            }
          }
          else if (nPosition.split(" ")[0].trim().equalsIgnoreCase("wall")) {
            if (letters.contains(nPosition.split(" ")[1].split(",")[0].trim().split("")[1])) {
              int x1 = (letters.indexOf(nPosition.split(" ")[1].split(",")[1].trim().split("")[0])*2)-1;
              int y1 = (Integer.parseInt(nPosition.split(" ")[2].split(",")[0].trim().split("")[1])-1)*2;
              int x2 = (letters.indexOf(nPosition.split(" ")[1].split(",")[1].trim().split("")[0])*2)-1;
              int y2 = (Integer.parseInt(nPosition.split(" ")[2].split(",")[1].trim().split("")[0])-1)*2;
                Barriere tmp = placerBarriere(new Coordonnee(x1,y1,x2,y2));
                if (tmp != null) {
                  ok = true;
                  ret = tmp;
              }


            }
            else {
              int x1 = (int)((Integer.parseInt(nPosition.split(" ")[1].split(",")[1].trim().split("")[0])-1)*2 + (Integer.parseInt(nPosition.split(" ")[1].split(",")[0].trim().split("")[1])-1)*2)/2;
              int y1 = (letters.indexOf(nPosition.split(" ")[2].split(",")[0].trim().split("")[1]) * 2);
              int x2 = (int)((Integer.parseInt(nPosition.split(" ")[1].split(",")[1].trim().split("")[0])-1)*2 + (Integer.parseInt(nPosition.split(" ")[1].split(",")[0].trim().split("")[1])-1)*2)/2;
              int y2 = (letters.indexOf(nPosition.split(" ")[2].split(",")[1].trim().split("")[0]) * 2);
                Barriere tmp = placerBarriere(new Coordonnee(y1,x1,y2,x2));
                 if (tmp != null) {
                   ok = true;
                   ret = tmp;
               }
            }

          }
          else {
            nPosition = this.scanner.nextLine();
          }
          if (!ok) {
            nPosition = this.scanner.nextLine();
          }
        }
      }
      catch (NumberFormatException e) {
        System.err.println("Erreur dans le format des coordonnees, tapez 'help' pour plus d'informations");
        ret = new Barriere("error",this.plateau);
      }
      catch (IndexOutOfBoundsException ex) {
        System.err.println("Erreur, indice en dehors du tableau");
        ret = new Barriere("error",this.plateau);
      }
      finally {
        return ret;
      }

    }
```

*Classe Partie*

```java
public void charger(String filename) {
      try {
        if (filename == null) {
          throw new Exception("Partie constructeur - Le nom du fichier doit être valide pour pouvoir être utilisé.");
        }
        else {
          this.plateau = new Plateau(this.plateau.getDamier().length);
          this.joueurs = new ArrayList<Joueur>();
          ArrayList<String> lignes = RWFile.readFile(filename);
          String[] lesJoueurs = lignes.get(0).split(";"); // La liste des joueurs sous forme de String
          String[] lesPions = lignes.get(1).split(";"); // La liste des joueurs sous forme de String
          String[] lesBarrieres = lignes.get(2).split(";"); // La liste des barrieres sous forme de String
          String[] leReste = lignes.get(3).split(";"); // Le reste des informations (n° de tour & tour du premier joueur) sous forme de String
          ArrayList<String[]> desJoueurs = new ArrayList<String[]>(); // Liste de toutes les informations de chaque joueur
          int i = 0;

          for (String j: lesJoueurs) {
            desJoueurs.add(j.split(" "));
            i++;
          }
          this.tour = Integer.parseInt(leReste[0].trim());

          if (i == 2) {
            //Création des pions
            String[] pion1 = lesPions[0].split(" ");
            String[] pion2 = lesPions[1].split(" ");

            String couleur1 = pion1[0].trim();
            String couleur2 = pion2[0].trim();

            Coordonnee coord1 = new Coordonnee(Integer.parseInt(pion1[1]), Integer.parseInt(pion1[2]), -1, -1);
            Coordonnee coord2 = new Coordonnee(Integer.parseInt(pion2[1]), Integer.parseInt(pion2[2]), -1, -1);

            Coordonnee coord1B = new Coordonnee(0, 8, -1 ,-1);
            Coordonnee coord2B = new Coordonnee(16, 8, -1 ,-1);

            Pion p1 = new Pion(couleur1, coord1B);
            Pion p2 = new Pion(couleur2, coord2B);

            ArrayList<Barriere> barriere1 = new ArrayList<Barriere>();
            ArrayList<Barriere> barriere2 = new ArrayList<Barriere>();

            for (int j = 0; j < Integer.parseInt(lesBarrieres[0].trim()); j++) {
              barriere1.add(new Barriere(couleur1, this.plateau));
            }
            for (int j = 0; j < Integer.parseInt(lesBarrieres[1].trim()); j++) {
              barriere2.add(new Barriere(couleur2, this.plateau));
            }

            String[] joueur1 = desJoueurs.get(0);
            String[] joueur2 = desJoueurs.get(1);

            String nom1 = joueur1[0];
            String nom2 = joueur2[0];

            Joueur J1, J2;
            if (joueur1[1].trim().equals("H") && joueur2[1].trim().equals("H")) {
              this.mode = Mode.HH;
              J1 = new Humain(nom1, 1, couleur1, barriere1, p1, this.plateau);
              J2 = new Humain(nom2, 2, couleur2, barriere2, p2, this.plateau);
            }
            else if (joueur1[1].trim().equals("H") && joueur2[1].trim().equals("IA")) {
              this.mode = Mode.HI;
              J1 = new Humain(nom1, 1, couleur1, barriere1, p1, this.plateau);
              J2 = new IA(nom2, 2, couleur2, barriere2, p2, this.plateau, Difficulte.FACILE);
            }
            else {
              this.mode = Mode.II;
              J1 = new IA(nom1, 1, couleur1, barriere1, p1, this.plateau, Difficulte.FACILE);
              J2 = new IA(nom2, 2, couleur2, barriere2, p2, this.plateau, Difficulte.FACILE);
            }

            if (leReste[1].trim().equals("1")) {
              this.joueurs.add(J1);
              this.joueurs.add(J2);
            }
            else {
              this.joueurs.add(J2);
              this.joueurs.add(J1);
            }

            J1.deplacerPion(coord1, this.plateau.getDamier());
            J2.deplacerPion(coord2, this.plateau.getDamier());
          }

          else {
            String[] pion1 = lesPions[0].split(" ");
            String[] pion2 = lesPions[1].split(" ");
            String[] pion3 = lesPions[2].split(" ");
            String[] pion4 = lesPions[3].split(" ");

            String couleur1 = pion1[0];
            String couleur2 = pion2[0];
            String couleur3 = pion3[0];
            String couleur4 = pion4[0];

            Coordonnee coord1 = new Coordonnee(Integer.parseInt(pion1[1]), Integer.parseInt(pion1[2]), -1, -1);
            Coordonnee coord2 = new Coordonnee(Integer.parseInt(pion2[1]), Integer.parseInt(pion2[2]), -1, -1);
            Coordonnee coord3 = new Coordonnee(Integer.parseInt(pion3[1]), Integer.parseInt(pion3[2]), -1, -1);
            Coordonnee coord4 = new Coordonnee(Integer.parseInt(pion4[1]), Integer.parseInt(pion4[2]), -1, -1);

            Coordonnee coord1B = new Coordonnee(0, 8, -1 ,-1);
            Coordonnee coord2B = new Coordonnee(16, 8, -1 ,-1);
            Coordonnee coord3B = new Coordonnee(8, 0, -1 ,-1);
            Coordonnee coord4B = new Coordonnee(8, 16, -1 ,-1);

            Pion p1 = new Pion(couleur1, coord1B);
            Pion p2 = new Pion(couleur2, coord2B);
            Pion p3 = new Pion(couleur3, coord3B);
            Pion p4 = new Pion(couleur4, coord4B);

            ArrayList<Barriere> barriere1 = new ArrayList<Barriere>();
            ArrayList<Barriere> barriere2 = new ArrayList<Barriere>();
            ArrayList<Barriere> barriere3 = new ArrayList<Barriere>();
            ArrayList<Barriere> barriere4 = new ArrayList<Barriere>();

            for (int j = 0; j < Integer.parseInt(lesBarrieres[0]); j++) {
              barriere1.add(new Barriere(couleur1, this.plateau));
            }
            for (int j = 0; j < Integer.parseInt(lesBarrieres[1]); j++) {
              barriere2.add(new Barriere(couleur2, this.plateau));
            }
            for (int j = 0; j < Integer.parseInt(lesBarrieres[2]); j++) {
              barriere3.add(new Barriere(couleur3, this.plateau));
            }
            for (int j = 0; j < Integer.parseInt(lesBarrieres[3]); j++) {
              barriere4.add(new Barriere(couleur4, this.plateau));
            }

            String[] joueur1 = desJoueurs.get(0);
            String[] joueur2 = desJoueurs.get(1);
            String[] joueur3 = desJoueurs.get(2);
            String[] joueur4 = desJoueurs.get(3);

            String nom1 = joueur1[0];
            String nom2 = joueur2[0];
            String nom3 = joueur3[0];
            String nom4 = joueur4[0];

            Joueur J1, J2, J3, J4;
            if (joueur1[1].trim().equals("H") && joueur2[1].trim().equals("H") && joueur3[1].trim().equals("H") && joueur4[1].trim().equals("H")) {
              this.mode = Mode.HHHH;
              J1 = new Humain(nom1, 1, couleur1, barriere1, p1, this.plateau);
              J2 = new Humain(nom2, 2, couleur2, barriere2, p2, this.plateau);
              J3 = new Humain(nom3, 3, couleur3, barriere3, p3, this.plateau);
              J4 = new Humain(nom4, 4, couleur4, barriere4, p4, this.plateau);
            }
            else if (joueur1[1].trim().equals("H") && joueur2[1].trim().equals("H") && joueur3[1].trim().equals("H") && joueur4[1].trim().equals("IA")) {
              J1 = new Humain(nom1, 1, couleur1, barriere1, p1, this.plateau);
              J2 = new Humain(nom2, 2, couleur2, barriere2, p2, this.plateau);
              J3 = new Humain(nom3, 3, couleur3, barriere3, p3, this.plateau);
              J4 = new IA(nom4, 4, couleur4, barriere4, p4, this.plateau, Difficulte.FACILE);
            }
            else if (joueur1[1].trim().equals("H") && joueur2[1].trim().equals("H") && joueur3[1].trim().equals("IA") && joueur4[1].trim().equals("IA")) {
              J1 = new Humain(nom1, 1, couleur1, barriere1, p1, this.plateau);
              J2 = new Humain(nom2, 2, couleur2, barriere2, p2, this.plateau);
              J3 = new IA(nom3, 3, couleur3, barriere3, p3, this.plateau, Difficulte.FACILE);
              J4 = new IA(nom4, 4, couleur4, barriere4, p4, this.plateau, Difficulte.FACILE);
            }
            else if (joueur1[1].trim().equals("H") && joueur2[1].trim().equals("IA") && joueur3[1].trim().equals("IA") && joueur4[1].trim().equals("IA")) {
              J1 = new Humain(nom1, 1, couleur1, barriere1, p1, this.plateau);
              J2 = new IA(nom2, 2, couleur2, barriere2, p2, this.plateau, Difficulte.FACILE);
              J3 = new IA(nom3, 3, couleur3, barriere4, p3, this.plateau, Difficulte.FACILE);
              J4 = new IA(nom4, 4, couleur4, barriere4, p4, this.plateau, Difficulte.FACILE);
            }
            else {
              J1 = new IA(nom1, 1, couleur1, barriere1, p1, this.plateau, Difficulte.FACILE);
              J2 = new IA(nom2, 2, couleur2, barriere2, p2, this.plateau, Difficulte.FACILE);
              J3 = new IA(nom3, 3, couleur3, barriere4, p3, this.plateau, Difficulte.FACILE);
              J4 = new IA(nom4, 4, couleur4, barriere4, p4, this.plateau, Difficulte.FACILE);
            }

            if (leReste[1].trim().equals("1")) {
              this.joueurs.add(J1);
              this.joueurs.add(J2);
              this.joueurs.add(J3);
              this.joueurs.add(J4);
            }
            else if (leReste[1].trim().equals("2")) {
              this.joueurs.add(J2);
              this.joueurs.add(J3);
              this.joueurs.add(J4);
              this.joueurs.add(J1);
            }
            else if (leReste[1].trim().equals("3")) {
              this.joueurs.add(J3);
              this.joueurs.add(J4);
              this.joueurs.add(J1);
              this.joueurs.add(J2);
            }
            else {
              this.joueurs.add(J4);
              this.joueurs.add(J1);
              this.joueurs.add(J2);
              this.joueurs.add(J3);
            }
            J1.deplacerPion(coord1, this.plateau.getDamier());
            J2.deplacerPion(coord2, this.plateau.getDamier());
            J3.deplacerPion(coord3, this.plateau.getDamier());
            J4.deplacerPion(coord4, this.plateau.getDamier());
          }

          i = 0;
          for (String j : lesJoueurs) {
            String[] lesInfos = j.split(" ");
            if(lesInfos.length > 3) {
              if (lesInfos[3].trim().equals("FACILE")) {
                ((IA)this.joueurs.get(i)).setDifficulte(Difficulte.FACILE);
              }
              else if (lesInfos[3].trim().equals("MOYEN")) {
                ((IA)this.joueurs.get(i)).setDifficulte(Difficulte.MOYEN);
              }
              else if (lesInfos[3].trim().equals("DIFFICILE")) {
                ((IA)this.joueurs.get(i)).setDifficulte(Difficulte.DIFFICILE);
              }
              else {
                ((IA)this.joueurs.get(i)).setDifficulte(Difficulte.IMPOSSIBLE);
              }
            }
            i++;
          }

          for (String b : lesBarrieres) {
            if (b.length() > 3) {
              String[] lesInfos = b.split(" ");
              String couleur = lesInfos[0];
              Coordonnee coord = new Coordonnee(Integer.parseInt(lesInfos[1]), Integer.parseInt(lesInfos[2]), Integer.parseInt(lesInfos[3]), Integer.parseInt(lesInfos[4]));
              Barriere laBarriere = new Barriere(couleur, this.plateau);
              laBarriere.setCoordonnee(coord);
              addBarriere(laBarriere);
            }
          }
        }
      }
      catch(FileNotFoundException e) {
        System.err.println("Partie construceur - Fichier non trouvé (" + filename + ")");
      }
      catch (IndexOutOfBoundsException e) {
        System.err.println("IndexOutOfBoundsException");
      }
      catch(Exception e) {
        System.err.println(e.getMessage());
      }
    }

    /**
      * Initialise les différents éléments constants de la partie
      * @param mode le mode jeu de la partie à créer
      * @param visuel le façon d'ont la partie sera jouée (Texte ou Visuel)
      */
    private void initialisation(Mode mode, String visuel) {
          this.barrieres = new ArrayList<Barriere>();
          this.joueurs = new ArrayList<Joueur>();
          this.tour = 0;
          this.mode = mode;
          configuration(mode, visuel);
    }

// --- //

private void configuration(Mode mode, String visuel) {

      // Créer les joueurs
        if (visuel.equals("Texte")) {
          if ((mode.equals(Mode.HH)) || (mode.equals(Mode.HI)) || (mode.equals(Mode.II))) {
            ArrayList<Barriere> BarriereJ1 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ2 = new ArrayList<Barriere>();
            ArrayList<String> lignes = RWFile.readFile("config2");
            this.plateau = new Plateau(Integer.parseInt(lignes.get(0)));
            String[] coord1 = lignes.get(1).split(" ");
            String[] coord2 = lignes.get(2).split(" ");

            for (int i = 0; i< 10; i++) {
              BarriereJ1.add(new Barriere("O", this.plateau));
            }
            for (int i = 0; i < 10; i++) {
              BarriereJ2.add(new Barriere("W", this.plateau));
            }

            Coordonnee c1 = new Coordonnee(Integer.parseInt(coord1[0]),Integer.parseInt(coord1[1]), -1, -1);
            Coordonnee c2 = new Coordonnee(Integer.parseInt(coord2[0]),Integer.parseInt(coord1[1]), -1, -1);

            Joueur J1, J2;
            if (mode.equals(Mode.HH)) {
              J1 = new Humain("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau);
              J2 = new Humain("Joueur2",2,"W",BarriereJ2,new Pion("W",c2), this.plateau);
            }
            else if (mode.equals(Mode.HI)) {
              J1 = new Humain("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau);
              J2 = new IA("IA1",2,"W",BarriereJ2,new Pion("W",c2), this.plateau,Difficulte.FACILE);
            }
            else {
              J1 = new IA("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau,Difficulte.FACILE);
              J2 = new IA("IA1",2,"W",BarriereJ2,new Pion("W",c2), this.plateau,Difficulte.FACILE);
            }

            ArrayList<int[]> aChanger = new ArrayList<int[]>();
            int[] lesCoords1 = {Integer.parseInt(coord1[0]),Integer.parseInt(coord1[1])};
            int[] lesCoords2 = {Integer.parseInt(coord2[0]),Integer.parseInt(coord1[1])};
            aChanger.add(lesCoords1);
            aChanger.add(lesCoords2);
            this.plateau.setDisponibilite(aChanger);

            this.joueurs.add(J1);
            this.joueurs.add(J2);
          }

          else {
            ArrayList<Barriere> BarriereJ1 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ2 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ3 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ4 = new ArrayList<Barriere>();
            ArrayList<String> lignes = RWFile.readFile("config4");
            this.plateau = new Plateau(Integer.parseInt(lignes.get(0)));
            String[] coord1 = lignes.get(1).split(" ");
            String[] coord2 = lignes.get(2).split(" ");
            String[] coord3 = lignes.get(3).split(" ");
            String[] coord4 = lignes.get(4).split(" ");

            for (int i = 0; i< 5; i++) {
              BarriereJ1.add(new Barriere("O", this.plateau));
            }
            for (int i = 0; i< 5; i++) {
              BarriereJ2.add(new Barriere("W", this.plateau));
            }
            for (int i = 0; i< 5; i++) {
              BarriereJ3.add(new Barriere("Z", this.plateau));
            }
            for (int i = 0; i< 5; i++) {
              BarriereJ4.add(new Barriere("A", this.plateau));
            }

            Coordonnee c1 = new Coordonnee(Integer.parseInt(coord1[0]),Integer.parseInt(coord1[1]), -1, -1);
            Coordonnee c2 = new Coordonnee(Integer.parseInt(coord2[0]),Integer.parseInt(coord2[1]), -1, -1);
            Coordonnee c3 = new Coordonnee(Integer.parseInt(coord3[0]),Integer.parseInt(coord3[1]), -1, -1);
            Coordonnee c4 = new Coordonnee(Integer.parseInt(coord4[0]),Integer.parseInt(coord4[1]), -1, -1);

            Joueur J1,J2,J3,J4;

            if (this.mode.equals(Mode.HHHH)) {
              J1 = new Humain("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau);
              J2 = new Humain("Joueur2",2,"W",BarriereJ2,new Pion("W",c2), this.plateau);
              J3 = new Humain("Joueur3",3,"Z",BarriereJ3,new Pion("Z",c3), this.plateau);
              J4 = new Humain("Joueur4",4,"A",BarriereJ4,new Pion("A",c4), this.plateau);
            }
            else if (this.mode.equals(Mode.HHHI)) {
              J1 = new Humain("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau);
              J2 = new Humain("Joueur2",2,"W",BarriereJ2,new Pion("W",c2), this.plateau);
              J3 = new Humain("Joueur3",3,"Z",BarriereJ3,new Pion("Z",c3), this.plateau);
              J4 = new IA("Joueur4",4,"A",BarriereJ4,new Pion("A",c4), this.plateau,Difficulte.FACILE);
            }
            else if (this.mode.equals(Mode.HHII)) {
              J1 = new Humain("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau);
              J2 = new Humain("Joueur2",2,"W",BarriereJ2,new Pion("W",c2), this.plateau);
              J3 = new IA("Joueur3",3,"Z",BarriereJ3,new Pion("Z",c3), this.plateau,Difficulte.FACILE);
              J4 = new IA("Joueur4",4,"A",BarriereJ4,new Pion("A",c4), this.plateau,Difficulte.FACILE);
            }
            else if (this.mode.equals(Mode.HIII)) {
              J1 = new Humain("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau);
              J2 = new IA("Joueur2",2,"W",BarriereJ2,new Pion("W",c2), this.plateau,Difficulte.FACILE);
              J3 = new IA("Joueur3",3,"Z",BarriereJ3,new Pion("Z",c3), this.plateau,Difficulte.FACILE);
              J4 = new IA("Joueur4",4,"A",BarriereJ4,new Pion("A",c4), this.plateau,Difficulte.FACILE);
            }
            else {
              J1 = new IA("Joueur1",1,"O",BarriereJ1,new Pion("O",c1), this.plateau,Difficulte.FACILE);
              J2 = new IA("Joueur2",2,"W",BarriereJ2,new Pion("W",c2), this.plateau,Difficulte.FACILE);
              J3 = new IA("Joueur3",3,"Z",BarriereJ3,new Pion("Z",c3), this.plateau,Difficulte.FACILE);
              J4 = new IA("Joueur4",4,"A",BarriereJ4,new Pion("A",c4), this.plateau,Difficulte.FACILE);
            }

            ArrayList<int[]> aChanger = new ArrayList<int[]>();
            int[] lesCoords1 = {Integer.parseInt(coord1[0]),Integer.parseInt(coord1[1])};
            int[] lesCoords2 = {Integer.parseInt(coord2[0]),Integer.parseInt(coord1[1])};
            int[] lesCoords3 = {Integer.parseInt(coord3[0]),Integer.parseInt(coord3[1])};
            int[] lesCoords4 = {Integer.parseInt(coord4[0]),Integer.parseInt(coord4[1])};
            aChanger.add(lesCoords1);
            aChanger.add(lesCoords2);
            aChanger.add(lesCoords3);
            aChanger.add(lesCoords4);
            this.plateau.setDisponibilite(aChanger);

            this.joueurs.add(J1);
            this.joueurs.add(J2);
            this.joueurs.add(J3);
            this.joueurs.add(J4);

          }
        }

        else if (visuel.equals("Visuel")) {
          if (mode.equals(Mode.HH) || mode.equals(Mode.HI)) {
            ArrayList<Barriere> BarriereJ1 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ2 = new ArrayList<Barriere>();
            ArrayList<String> lignes = RWFile.readFile("config2");
            this.plateau = new Plateau(Integer.parseInt(lignes.get(0)));
            for (int i = 0; i<= 10; i++) {
              BarriereJ1.add(new Barriere("ROUGE", this.plateau));
            }
            for (int i = 0; i <= 10; i++) {
              BarriereJ2.add(new Barriere("VERT", this.plateau));
            }
          }
          else {
            ArrayList<Barriere> BarriereJ1 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ2 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ3 = new ArrayList<Barriere>();
            ArrayList<Barriere> BarriereJ4 = new ArrayList<Barriere>();
            ArrayList<String> lignes = RWFile.readFile("config4");
            this.plateau = new Plateau(Integer.parseInt(lignes.get(0)));

            for (int i = 0; i<= 5; i++) {
              BarriereJ1.add(new Barriere("ROUGE", this.plateau));
            }
            for (int i = 0; i<= 5; i++) {
              BarriereJ2.add(new Barriere("VERT", this.plateau));
            }
            for (int i = 0; i<= 5; i++) {
              BarriereJ3.add(new Barriere("JAUNE", this.plateau));
            }
            for (int i = 0; i<= 5; i++) {
              BarriereJ4.add(new Barriere("BLEU", this.plateau));
            }
          }
        }
      }

// --- //

public void start() {
      ArrayList<Pion> listePion = new ArrayList<Pion>();
      for (Joueur j : this.joueurs) {
        listePion.add(j.getPion());
      }
      Plateau oldPlateau = this.savePlateau();
      ArrayList<Joueur> oldJoueurs = this.saveJoueurs(oldPlateau);
      ArrayList<Barriere> oldBarrieres = this.saveBarrieres();
      Plateau olderPlateau = this.savePlateau();
      ArrayList<Joueur> olderJoueurs = this.saveJoueurs(olderPlateau);
      ArrayList<Barriere> olderBarrieres = this.saveBarrieres();
      while (true) {
        for (int i = 0 ; i < this.joueurs.size() ; i++) {
          boolean error = false;
          olderPlateau = oldPlateau;
          olderJoueurs = oldJoueurs;
          olderBarrieres = oldBarrieres;
          oldPlateau = this.savePlateau();
          oldJoueurs = this.saveJoueurs(oldPlateau);
          oldBarrieres = this.saveBarrieres();
          System.out.println(this.plateau.toString(listePion,this.joueurs.get(i).getPion()));
          Barriere b = this.joueurs.get(i).jeu();
          if (b != null) {
            if (b.getCouleur().equalsIgnoreCase("back")) {
              this.plateau = olderPlateau;
              this.joueurs = olderJoueurs;
              this.barrieres = olderBarrieres;
              listePion = new ArrayList<Pion>();
              for (Joueur j : this.joueurs) {
                listePion.add(j.getPion());
              }
              i -= 2;
              if (i < 0) {
                i = this.joueurs.size() + i;
              }
            }
            else if (b.getCouleur().equalsIgnoreCase("error")) {
              this.plateau = oldPlateau;
              this.joueurs = oldJoueurs;
              this.barrieres = oldBarrieres;
              listePion = new ArrayList<Pion>();
              for (Joueur j : this.joueurs) {
                listePion.add(j.getPion());
              }
              i--;
            }
            else if (b.getCouleur().split(" ")[0].trim().equalsIgnoreCase("save")) {
              if (b.getCouleur().split(" ")[1].trim().equals("1") || b.getCouleur().split(" ")[1].trim().equals("2") || b.getCouleur().split(" ")[1].trim().equals("3")) {
                System.out.println("sauvegarde en cours");
                this.sauvegarder("sauvegarde" + b.getCouleur().split(" ")[1] , this.joueurs.get(i));
                i--;
              }
              else {
                System.err.println("Erreur lors de la sauvegarde de la partie, numero de fichier invalide");
              }
            }
            else if (b.getCouleur().split(" ")[0].trim().equalsIgnoreCase("load")) {
              if (b.getCouleur().split(" ")[1].trim().equals("1") || b.getCouleur().split(" ")[1].trim().equals("2") || b.getCouleur().split(" ")[1].trim().equals("3")) {
                System.out.println("chargement en cours");
                this.charger("sauvegarde" + b.getCouleur().split(" ")[1]);
                listePion = new ArrayList<Pion>();
                for (Joueur j : this.joueurs) {
                  listePion.add(j.getPion());
                }
                i = -1;
              }
              else {
                System.err.println("Erreur lors du chargement de la partie, numero de fichier invalide");
              }
            }
            else {
              addBarriere(b);
            }
          }
          for (Joueur j2 : this.joueurs) {
            this.startRec = System.currentTimeMillis();
            this.endRec = 5*1000;
            int[][] copieDamier = this.copieDamier();
            copieDamier[j2.getPion().getCoordonnee().getX1()][j2.getPion().getCoordonnee().getY1()] = 2;
            if (!checkChemins(j2.getPion().getCoordonnee().getX1(),j2.getPion().getCoordonnee().getY1(),j2.getNumero(),copieDamier)) {
              System.out.println("Impossible, " + j2.getNom() + " se retrouverait bloque");
              this.plateau = oldPlateau;
              this.joueurs = oldJoueurs;
              this.barrieres = oldBarrieres;
              listePion = new ArrayList<Pion>();
              for (Joueur j : this.joueurs) {
                listePion.add(j.getPion());
              }
              error = true;
            }
            else if (this.startRec == -1) {
              System.out.println("Impossible, " + j2.getNom() + " se retrouverait bloque");
              this.plateau = oldPlateau;
              this.joueurs = oldJoueurs;
              this.barrieres = oldBarrieres;
              listePion = new ArrayList<Pion>();
              for (Joueur j : this.joueurs) {
                listePion.add(j.getPion());
              }
              error = true;
            }
          }
          fin();
          if (error) {
            i--;
          }
        }
        this.tour++;
      }
    }

// --- //

public void fin() {
      try {
        ArrayList<Pion> listePion = new ArrayList<Pion>();
        for (Joueur j : this.joueurs) {
          listePion.add(j.getPion());
        }
        for (Joueur j : this.joueurs) {
          if (j.getNumero() == 1 && j.getPion().getCoordonnee().getX1() == 16) {
            System.out.println(this.joueurs.get(0).getNom() + " a gagne");
            System.out.println(this.plateau.toString(listePion,j.getPion()));
            System.exit(0);
          }
          else if (j.getNumero() == 2 && j.getPion().getCoordonnee().getX1() == 0) {
            System.out.println(this.joueurs.get(1).getNom() + " a gagne");
            System.out.println(this.plateau.toString(listePion,j.getPion()));
            System.exit(0);
          }
          else if (j.getNumero() == 3 && j.getPion().getCoordonnee().getY1() == 16) {
            System.out.println(this.joueurs.get(2).getNom() + " a gagne");
            System.out.println(this.plateau.toString(listePion,j.getPion()));
            System.exit(0);
          }
          else if (j.getNumero() == 4 && j.getPion().getCoordonnee().getY1() == 0) {
            System.out.println(this.joueurs.get(3).getNom() + " a gagne");
            System.out.println(this.plateau.toString(listePion,j.getPion()));
            System.exit(0);
          }
        }
      }
      catch (IndexOutOfBoundsException e) {

      }
    }
```

*Classe MainPauseFrame*

```java
public MainPauseFrame(MainFrame parent, AccueilFrame acccueil) {
    try {
      if (parent == null) {
        throw new Exception("La Frame parent doit exister pour créer l'écran de Pause.");
      }
      else if (acccueil == null) {
        throw new Exception("La page d'acccueil doit exister pour pouvoir être référencée par l'écran de pause.");
      }
      else {
        this.parent = parent;
        this.acccueil = acccueil;

        initComponent();

        this.setIconImage(new ImageIcon("../data/Logo.jpg").getImage());
        this.setTitle("Quoridor - Pause");
        this.setBackground(Color.BLACK);

        this.setSize(1300, 650);
        this.setResizable(false);
        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);
        this.setVisible(true);
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }

// --- //

  private void initComponent() {
    this.pause = new PauseFrame(this, this.acccueil);
    this.chargementPause = new ChargementPauseFrame(this,this.parent.getPartie());
    this.sauvegardePause = new SauvegarderPauseFrame(this);
    this.sauvegardeQuitterPause = new SauvegarderQuitterPauseFrame(this);

    this.switchablePanel = new JPanel(new CardLayout());
    this.switchablePanel.add(this.pause, "Pause");
    this.switchablePanel.add(this.chargementPause, "Charger");
    this.switchablePanel.add(this.sauvegardePause, "Sauvegarder");
    this.switchablePanel.add(this.sauvegardeQuitterPause, "SauvegarderQuitter");

    this.switchableCL = (CardLayout)(this.switchablePanel.getLayout());
    this.switchableCL.show(this.switchablePanel, "Pause");

    this.add(this.switchablePanel, BorderLayout.CENTER);
  }

  public MainFrame getMainFrame() {
    return this.parent;
  }

  /**
    * Retourne le panel échangeable
    * @return le panel échangeable
  */
  public JPanel getSwitchablePanel() {
    return this.switchablePanel;
  }

// --- //

  public CardLayout getSwitchableCL() {
    return this.switchableCL;
  }
```

*Classe ChoixNombreFrame*

```java
package view;

import javax.swing.*;
import java.awt.*;
import controller.*;

public class ChoixNombreFrame extends JPanel {

  private MainFrame mainF;
  private JPanel partie2, partie4;
  private JButton retour, partie2Bton, partie4Bton;
  private JLabel titre;

  /**
    *
    * @param parent
    * @param partie2
    * @param partie4
    */
  public ChoixNombreFrame(MainFrame parent, JPanel partie2, JPanel partie4) {
    try {
      if (parent == null) {
        throw new Exception("L'écran principal doit exister pour créer l'écran de choix du nombre de joueurs.");
      }
      else if (partie2 == null) {
        throw new Exception("L'écran de sélection de joueurs (Partie à 2 joueurs) doit exister pour créer l'écran de choix du nombre de joueurs.");
      }
      else if (partie4 == null) {
        throw new Exception("L'écran de sélection de joueurs (Partie à 4 joueurs) doit exister pour créer l'écran de choix du nombre de joueurs.");
      }
      else {
        this.mainF = parent;
        this.partie2 = partie2;
        this.partie4 = partie4;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }

  /**
    *
    */
  private void initComponent() {
    this.setLayout(new BorderLayout());
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel centerContainer = new JPanel(new GridLayout(2,1));
    JPanel downContainer = new JPanel(new BorderLayout());

    upContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);
    downContainer.setBackground(Color.BLACK);

    this.titre = new JLabel("CREER UNE PARTIE");
    this.partie2Bton = new JButton("JOUER A 2 JOUEURS");
    this.partie4Bton = new JButton("JOUER A 4 JOUEURS");
    this.retour = new JButton("RETOUR");

    this.retour.addActionListener(new DownButtonListener(this.mainF, "Accueil"));
    this.partie2Bton.addActionListener(new ChoixNombreListener(this.mainF, this.partie2));
    this.partie4Bton.addActionListener(new ChoixNombreListener(this.mainF, this.partie4));

    this.partie2Bton.setPreferredSize(new Dimension(500, 100));
    this.partie4Bton.setPreferredSize(new Dimension(500, 100));
    this.retour.setPreferredSize(new Dimension(200, 50));
    this.titre.setForeground(Color.WHITE);

    upContainer.add(this.titre,BorderLayout.CENTER);
    centerContainer.add(this.partie2Bton);
    centerContainer.add(this.partie4Bton);
    downContainer.add(this.retour, BorderLayout.EAST);

    this.add(upContainer, BorderLayout.NORTH);
    this.add(centerContainer, BorderLayout.CENTER);
    this.add(downContainer, BorderLayout.SOUTH);
  }
}

```

*Classe ChargementPauseFrame*

```java
package view;

import javax.swing.*;
import java.awt.*;
import controller.*;

public class ChargementPauseFrame extends JPanel {

  private MainPauseFrame mainF;
  private JPanel partie;

  private JButton save1, save2, save3, retour, corbeille;
  private JLabel titre;

  /**
    * Créer la page de chargement de partie (Dans la fenêtre de pause). Cette méthode appele la méthode privée initComponent()
    * @param parent La fenetre principale de jeu qui est utilisée pour changer l'écran affiché
    * @param partie l'écran où la partie est affiché
    */
  public ChargementPauseFrame(MainPauseFrame parent, JPanel partie) {
    try {
      if (parent == null) {
        throw new Exception("ChargementPauseFrame constructeur - L'écran principal doit exister pour créer l'écran de chargement de parties.");
      }
      else if (partie == null) {
        throw new Exception("ChargementPauseFrame constructeur - L'écran de jeu doit exister pour créer l'écran de chargement de parties.");
      }
      else {
        this.mainF = parent;
        this.partie = partie;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }

  /**
    *Initialise les composants graphiques de la page de chargement (principalement les boutons cliquables).
    */
  private void initComponent() {
    ImageIcon corbeille = new ImageIcon("../data/img/Corbeille.png");
    ImageIcon resizedCorbeille = new ImageIcon(corbeille.getImage().getScaledInstance(98, 142, java.awt.Image.SCALE_SMOOTH));

    this.setLayout(new BorderLayout());
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel downContainer = new JPanel(new BorderLayout());
    JPanel centerContainer = new JPanel(new GridLayout(3,1));

    upContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);
    downContainer.setBackground(Color.BLACK);

    this.titre = new JLabel("CHARGER UNE PARTIE");
    this.save1 = new JButton("Emplacement 1");
    this.save2 = new JButton("Emplacement 2");
    this.save3 = new JButton("Emplacement 3");
    this.retour = new JButton("RETOUR");
    this.corbeille = new JButton(resizedCorbeille);

    this.retour.addActionListener(new DownButtonListener(this.mainF, "Pause"));

    this.corbeille.setOpaque(false);
    this.corbeille.setContentAreaFilled(false);
    this.corbeille.setBorderPainted(false);

    this.save1.setPreferredSize(new Dimension(500, 100));
    this.save2.setPreferredSize(new Dimension(500, 100));
    this.save3.setPreferredSize(new Dimension(500, 100));
    this.retour.setPreferredSize(new Dimension(200, 50));
    this.titre.setForeground(Color.WHITE);

    upContainer.add(this.titre, BorderLayout.CENTER);
    upContainer.add(this.corbeille, BorderLayout.EAST);
    centerContainer.add(this.save1);
    centerContainer.add(this.save2);
    centerContainer.add(this.save3);
    downContainer.add(this.retour, BorderLayout.EAST);

    add(upContainer,BorderLayout.NORTH);
    add(centerContainer,BorderLayout.CENTER);
    add(downContainer,BorderLayout.SOUTH);
  }
}

```

*Classe Partie2JoueursFrame*

```java
package view;

import javax.swing.*;
import java.awt.*;
import controller.*;

public class Partie2JoueursFrame extends JPanel {

  private MainFrame mainF;
  private JPanel partie;

  private JButton texteBton, visuelBton, retour;
  private JLabel titre, j1Label, j2Label;
  private JComboBox j1CB, j2CB;

  /**
    *
    * @param parent
    * @param partie
    */
  public Partie2JoueursFrame(MainFrame parent, JPanel partie) {
    try {
      if (parent == null) {
        throw new Exception("L'écran principal doit exister pour créer l'écran de sélection de joueurs (Partie à 2 joueurs).");
      }
      else if (partie == null) {
        throw new Exception("L'écran de jeu doit exister pour créer l'écran de sélection de joueurs (Partie à 2 joueurs).");
      }
      else {
        this.mainF = parent;
        this.partie = partie;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }


  private void initComponent() {
    this.setLayout(new BorderLayout());
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel leftCenterContainer = new JPanel(new GridLayout(2,1));
    JPanel rightCenterContainer = new JPanel(new GridLayout(2,2));
    JPanel centerContainer = new JPanel(new GridLayout(1,2));
    JPanel downContainer = new JPanel(new BorderLayout());

    upContainer.setBackground(Color.BLACK);
    leftCenterContainer.setBackground(Color.BLACK);
    rightCenterContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);
    downContainer.setBackground(Color.BLACK);

    String[] lesChoix = {"HUMAIN","IA - FACILE","IA - MOYENNE","IA - DIFFICILE","IA - IMPOSSIBLE"};

    this.titre = new JLabel("CREER UNE PARTIE - 2 JOUEURS");
    this.j1Label = new JLabel("JOUEUR 1");
    this.j2Label = new JLabel("JOUEUR 2");
    this.texteBton = new JButton("JOUER EN MODE TEXTE");
    this.visuelBton = new JButton("JOUER EN MODE GRAPHIQUE");
    this.retour = new JButton("RETOUR");
    this.j1CB = new JComboBox(lesChoix);
    this.j2CB = new JComboBox(lesChoix);

    this.retour.addActionListener(new DownButtonListener(this.mainF, "choixNombre"));

    this.texteBton.setPreferredSize(new Dimension(500, 100));
    this.visuelBton.setPreferredSize(new Dimension(500, 100));
    this.retour.setPreferredSize(new Dimension(200, 50));
    this.titre.setForeground(Color.WHITE);
    this.j1Label.setForeground(Color.WHITE);
    this.j2Label.setForeground(Color.WHITE);

    upContainer.add(this.titre,BorderLayout.CENTER);
    leftCenterContainer.add(this.texteBton);
    leftCenterContainer.add(this.visuelBton);
    rightCenterContainer.add(this.j1Label);
    rightCenterContainer.add(this.j2Label);
    rightCenterContainer.add(this.j1CB);
    rightCenterContainer.add(this.j2CB);
    centerContainer.add(leftCenterContainer);
    centerContainer.add(rightCenterContainer);
    downContainer.add(this.retour, BorderLayout.EAST);

    this.add(upContainer, BorderLayout.NORTH);
    this.add(centerContainer, BorderLayout.CENTER);
    this.add(downContainer, BorderLayout.SOUTH);
  }
}

```

*Classe Partie4JoueursFrame*

```java
package view;

import javax.swing.*;
import java.awt.*;
import controller.*;

public class Partie4JoueursFrame extends JPanel {

  private MainFrame mainF;
  private JPanel partie;

  private JButton texteBton, visuelBton, retour;
  private JLabel titre, j1Label, j2Label, j3Label, j4Label;
  private JComboBox j1CB, j2CB, j3CB, j4CB;

  /**
    *
    * @param parent
    * @param partie
    */
  public Partie4JoueursFrame(MainFrame parent, JPanel partie) {
    try {
      if (parent == null) {
        throw new Exception("L'écran principal doit exister pour créer l'écran de sélection de joueurs (Partie à 2 joueurs).");
      }
      else if (partie == null) {
        throw new Exception("L'écran de jeu doit exister pour créer l'écran de sélection de joueurs (Partie à 2 joueurs).");
      }
      else {
        this.mainF = parent;
        this.partie = partie;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }


  private void initComponent() {
    this.setLayout(new BorderLayout());
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel leftCenterContainer = new JPanel(new GridLayout(2,1));
    JPanel rightCenterContainer = new JPanel(new GridLayout(5,2));
    JPanel centerContainer = new JPanel(new GridLayout(1,2));
    JPanel downContainer = new JPanel(new BorderLayout());

    upContainer.setBackground(Color.BLACK);
    leftCenterContainer.setBackground(Color.BLACK);
    rightCenterContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);
    downContainer.setBackground(Color.BLACK);

    String[] lesChoix = {"HUMAIN","IA - FACILE","IA - MOYENNE","IA - DIFFICILE","IA - IMPOSSIBLE"};

    this.titre = new JLabel("CREER UNE PARTIE - 4 JOUEURS");
    this.j1Label = new JLabel("JOUEUR 1");
    this.j2Label = new JLabel("JOUEUR 2");
    this.j3Label = new JLabel("JOUEUR 3");
    this.j4Label = new JLabel("JOUEUR 4");
    this.texteBton = new JButton("JOUER EN MODE TEXTE");
    this.visuelBton = new JButton("JOUER EN MODE GRAPHIQUE");
    this.retour = new JButton("RETOUR");
    this.j1CB = new JComboBox(lesChoix);
    this.j2CB = new JComboBox(lesChoix);
    this.j3CB = new JComboBox(lesChoix);
    this.j4CB = new JComboBox(lesChoix);

    this.retour.addActionListener(new DownButtonListener(this.mainF, "choixNombre"));

    this.texteBton.setPreferredSize(new Dimension(500, 100));
    this.visuelBton.setPreferredSize(new Dimension(500, 100));
    this.retour.setPreferredSize(new Dimension(200, 50));
    this.titre.setForeground(Color.WHITE);
    this.j1Label.setForeground(Color.WHITE);
    this.j2Label.setForeground(Color.WHITE);
    this.j3Label.setForeground(Color.WHITE);
    this.j4Label.setForeground(Color.WHITE);

    upContainer.add(this.titre,BorderLayout.CENTER);
    leftCenterContainer.add(this.texteBton);
    leftCenterContainer.add(this.visuelBton);
    rightCenterContainer.add(this.j1Label);
    rightCenterContainer.add(this.j2Label);
    rightCenterContainer.add(this.j1CB);
    rightCenterContainer.add(this.j2CB);
    rightCenterContainer.add(new JLabel(""));
    rightCenterContainer.add(new JLabel(""));
    rightCenterContainer.add(this.j3Label);
    rightCenterContainer.add(this.j4Label);
    rightCenterContainer.add(this.j3CB);
    rightCenterContainer.add(this.j4CB);
    centerContainer.add(leftCenterContainer);
    centerContainer.add(rightCenterContainer);
    downContainer.add(this.retour, BorderLayout.EAST);

    this.add(upContainer, BorderLayout.NORTH);
    this.add(centerContainer, BorderLayout.CENTER);
    this.add(downContainer, BorderLayout.SOUTH);
  }
}

```

*Classe PauseFrame*

```java
package view;

import javax.swing.*;
import java.awt.*;
import controller.*;

public class PauseFrame extends JPanel {

  private MainPauseFrame mainF;
  private JPanel acccueil;

  private JButton reprendre,sauvegarder,charger,sauvegarderQuitter,menu;
  private JLabel titre;

  public PauseFrame(MainPauseFrame parent, JPanel acccueil) {
    try {
      if (parent == null) {
        throw new Exception("PauseFrame constructeur - La fenêtre de pause doit exister pour créer l'écran de pause.");
      }
      else if (acccueil == null) {
        throw new Exception("PauseFrame constructeur - L'écran d'acccueil doit exister pour créer l'écran de pause.");
      }
      else {
        this.mainF = parent;
        this.acccueil = acccueil;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }

  private void initComponent() {
    this.setLayout(new GridLayout(2,1));
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel centerContainer = new JPanel(new GridLayout(5,1));

    upContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);

    this.titre = new JLabel("PAUSE");
    this.reprendre = new JButton("REPRENDRE LA PARTIE");
    this.sauvegarder = new JButton("SAUVEGARDER LA PARTIE");
    this.charger = new JButton("CHARGER UNE PARTIE");
    this.sauvegarderQuitter = new JButton("SAUVEGARDER ET QUITTER");
    this.menu = new JButton("MENU PRINCIPAL");

    this.reprendre.addActionListener(new PauseListener(this.mainF));
    this.sauvegarder.addActionListener(new PauseListener(this.mainF));
    this.charger.addActionListener(new PauseListener(this.mainF));
    this.sauvegarderQuitter.addActionListener(new PauseListener(this.mainF));
    this.menu.addActionListener(new PauseListener(this.mainF));


    this.reprendre.setPreferredSize(new Dimension(500, 100));
    this.sauvegarder.setPreferredSize(new Dimension(500, 100));
    this.charger.setPreferredSize(new Dimension(500, 100));
    this.sauvegarderQuitter.setPreferredSize(new Dimension(500, 100));
    this.menu.setPreferredSize(new Dimension(500, 100));
    this.titre.setForeground(Color.WHITE);

    upContainer.add(this.titre,BorderLayout.CENTER);
    centerContainer.add(this.reprendre);
    centerContainer.add(this.sauvegarder);
    centerContainer.add(this.charger);
    centerContainer.add(this.sauvegarderQuitter);
    centerContainer.add(this.menu);

    this.add(upContainer);
    this.add(centerContainer);
  }
}

```

*Classe SauvegarderPauseFrame*

```java
package view;

import controller.*;
import javax.swing.*;
import java.awt.*;

/**
  * Cette classe gère la création de la page de chargement de parties, ainsi que ses composants graphiques.
  * @author Drmarsupial35, griffin568
  * @version 0.1.0
  */
public class SauvegarderPauseFrame extends JPanel {

  private MainPauseFrame mainF;

  private JButton save1, save2, save3, retour, corbeille;
  private JLabel titre;

  /**
    * Créer la page de chargement de partie. Cette méthode appele la méthode privée initComponent()
    * @param parent La fenetre principale de jeu qui est utilisée pour changer l'écran affiché
    * @param partie l'écran où la partie est affiché
    */
  public SauvegarderPauseFrame(MainPauseFrame parent) {
    try {
      if (parent == null) {
        throw new Exception("ChargementFrame constructeur - L'écran principal doit exister pour créer l'écran de chargement de parties.");
      }
      else {
        this.mainF = parent;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }

  /**
    *Initialise les composants graphiques de la page de chargement (principalement les boutons cliquables).
    */
  private void initComponent() {
    ImageIcon corbeille = new ImageIcon("../data/img/Corbeille.png");
    ImageIcon resizedCorbeille = new ImageIcon(corbeille.getImage().getScaledInstance(98, 142, java.awt.Image.SCALE_SMOOTH));

    this.setLayout(new BorderLayout());
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel downContainer = new JPanel(new BorderLayout());
    JPanel centerContainer = new JPanel(new GridLayout(3,1));

    upContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);
    downContainer.setBackground(Color.BLACK);

    this.titre = new JLabel("SAUVEGARDER UNE PARTIE");
    this.save1 = new JButton("Emplacement 1");
    this.save2 = new JButton("Emplacement 2");
    this.save3 = new JButton("Emplacement 3");
    this.retour = new JButton("RETOUR");
    this.corbeille = new JButton(resizedCorbeille);

    this.retour.addActionListener(new DownButtonListener(this.mainF, "Pause"));

    this.corbeille.setOpaque(false);
    this.corbeille.setContentAreaFilled(false);
    this.corbeille.setBorderPainted(false);

    this.save1.setPreferredSize(new Dimension(500, 100));
    this.save2.setPreferredSize(new Dimension(500, 100));
    this.save3.setPreferredSize(new Dimension(500, 100));
    this.retour.setPreferredSize(new Dimension(200, 50));
    this.titre.setForeground(Color.WHITE);

    upContainer.add(this.titre, BorderLayout.CENTER);
    upContainer.add(this.corbeille, BorderLayout.EAST);
    centerContainer.add(this.save1);
    centerContainer.add(this.save2);
    centerContainer.add(this.save3);
    downContainer.add(this.retour, BorderLayout.EAST);

    add(upContainer,BorderLayout.NORTH);
    add(centerContainer,BorderLayout.CENTER);
    add(downContainer,BorderLayout.SOUTH);
  }
}

```

*Classe SauvegarderQuitterPauseFrame*

```java
package view;

import controller.*;
import javax.swing.*;
import java.awt.*;

/**
  * Cette classe gère la création de la page de chargement de parties, ainsi que ses composants graphiques.
  * @author Drmarsupial35, griffin568
  * @version 0.1.0
  */
public class SauvegarderQuitterPauseFrame extends JPanel {

  private MainPauseFrame mainF;

  private JButton save1, save2, save3, retour, corbeille;
  private JLabel titre;

  /**
    * Créer la page de chargement de partie. Cette méthode appele la méthode privée initComponent()
    * @param parent La fenetre principale de jeu qui est utilisée pour changer l'écran affiché
    * @param partie l'écran où la partie est affiché
    */
  public SauvegarderQuitterPauseFrame(MainPauseFrame parent) {
    try {
      if (parent == null) {
        throw new Exception("ChargementFrame constructeur - L'écran principal doit exister pour créer l'écran de chargement de parties.");
      }
      else {
        this.mainF = parent;
        this.setBackground(Color.BLACK);
        initComponent();
      }
    }
    catch(Exception e) {
      System.err.println(e.getMessage());
    }
  }

  /**
    *Initialise les composants graphiques de la page de chargement (principalement les boutons cliquables).
    */
  private void initComponent() {
    ImageIcon corbeille = new ImageIcon("../data/img/Corbeille.png");
    ImageIcon resizedCorbeille = new ImageIcon(corbeille.getImage().getScaledInstance(98, 142, java.awt.Image.SCALE_SMOOTH));

    this.setLayout(new BorderLayout());
    JPanel upContainer = new JPanel(new BorderLayout());
    JPanel downContainer = new JPanel(new BorderLayout());
    JPanel centerContainer = new JPanel(new GridLayout(3,1));

    upContainer.setBackground(Color.BLACK);
    centerContainer.setBackground(Color.BLACK);
    downContainer.setBackground(Color.BLACK);

    this.titre = new JLabel("SAUVEGARDER ET QUITTER");
    this.save1 = new JButton("Emplacement 1");
    this.save2 = new JButton("Emplacement 2");
    this.save3 = new JButton("Emplacement 3");
    this.retour = new JButton("RETOUR");
    this.corbeille = new JButton(resizedCorbeille);

    this.retour.addActionListener(new DownButtonListener(this.mainF, "Pause"));

    this.corbeille.setOpaque(false);
    this.corbeille.setContentAreaFilled(false);
    this.corbeille.setBorderPainted(false);

    this.save1.setPreferredSize(new Dimension(500, 100));
    this.save2.setPreferredSize(new Dimension(500, 100));
    this.save3.setPreferredSize(new Dimension(500, 100));
    this.retour.setPreferredSize(new Dimension(200, 50));
    this.titre.setForeground(Color.WHITE);

    upContainer.add(this.titre, BorderLayout.CENTER);
    upContainer.add(this.corbeille, BorderLayout.EAST);
    centerContainer.add(this.save1);
    centerContainer.add(this.save2);
    centerContainer.add(this.save3);
    downContainer.add(this.retour, BorderLayout.EAST);

    add(upContainer,BorderLayout.NORTH);
    add(centerContainer,BorderLayout.CENTER);
    add(downContainer,BorderLayout.SOUTH);
  }
}

```

*Classe Graphe*

```java
package quoridor.dijkstra;
import quoridor.*;
import java.util.ArrayList;
import java.util.Map;
import java.util.Map.Entry;

/**
  * La classe Graphe nous permet de créer un graphe
  * A partir d'un tableau de booléens
  * @author griffin568 , Drmarsupial35
  * @version 0.1.0
  */
public class Graphe {

  private ArrayList<Noeud> noeuds;

  /**
    * Créé un nouvel objet de type Graphe
    */
    public Graphe() {
      noeuds = new ArrayList<Noeud>();
    }

  /**
    * Ajoute un noeud au graphe
    * @param noeud le noeud à ajouter
    */
    public void addNoeud (Noeud noeud) {
      try {
        if (noeud == null) {
          throw new Exception("Erreur addNoeud(), parametre null");
        }
        else {
          noeuds.add(noeud);
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Donne la liste des noeuds du graphe
    * @return l'attribut noeuds
    */
    public ArrayList<Noeud> getNoeuds() {
      return this.noeuds;
    }

  /**
    * Donne à l'attribut noeuds une nouvelle valeur
    * @param noeuds la nouvelle valeur
    */
    public void setNoeuds (ArrayList<Noeud> noeuds) {
      try {
        if (noeuds == null) {
          throw new Exception ("Erreur setNoeuds(), parametre null");
        }
        else {
          this.noeuds = noeuds;
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Calcule le plus court chemin à partir d'un noeud source
    * en utilisant l'algorithme de Dijkstra
    * @param graphe le Graphe à utiliser
    * @param source le noeud source
    */
    public static Graphe dijkstra (Graphe graphe , Noeud source) {
      source.setDistance(0);
      ArrayList<Noeud> marque = new ArrayList<Noeud>();
      ArrayList<Noeud> nonMarque = new ArrayList<Noeud>();
      nonMarque.add(source);
      while (nonMarque.size() != 0) {
        Noeud actuel = getPlusProche(nonMarque);
        nonMarque.remove(actuel);
        for (Entry<Noeud,Integer> adj : actuel.getAdjacents().entrySet()) {
          Noeud noeudAdjacent = adj.getKey();
          Integer d = adj.getValue();
          if (!marque.contains(noeudAdjacent)) {
            calculMinDistance(noeudAdjacent,d,actuel);
            nonMarque.add(noeudAdjacent);
          }
        }
        marque.add(actuel);
      }
      return graphe;
    }

  /**
    * Donne le noeud le plus proche parmi les noeuds non marqués
    * @param nonMarque la liste des noeuds non marqués
    */
    private static Noeud getPlusProche (ArrayList<Noeud> nonMarque) {
      Noeud ret = null;
      int minDistance = Integer.MAX_VALUE;
      for (Noeud noeud : nonMarque) {
        int distance = noeud.getDistance();
        if (distance < minDistance) {
          minDistance = distance;
          ret = noeud;
        }
      }
      return ret;
    }

  /**
    * Compare une la distance actuelle avec celle nouvellement calculée
    * @param noeudEvalue le noeud évalué
    * @param d la distance vers ce noeud
    * @param source le noeud source
    */
    private static void calculMinDistance (Noeud noeudEvalue , Integer d , Noeud source) {
      Integer distanceSource = source.getDistance();
      if (distanceSource + d < noeudEvalue.getDistance()) {
        noeudEvalue.setDistance(distanceSource + d);
        ArrayList<Noeud> plusCourtChemin = new ArrayList<Noeud>();
        for (Noeud n : source.getPlusCourtChemin()) {
          plusCourtChemin.add(n);
        }
        plusCourtChemin.add(source);
        noeudEvalue.setPlusCourtChemin(plusCourtChemin);
      }
    }

  public static void main(String[] args) {
    Noeud noeudA = new Noeud("A");
    Noeud noeudB = new Noeud("B");
    Noeud noeudC = new Noeud("C");
    Noeud noeudD = new Noeud("D");
    Noeud noeudE = new Noeud("E");

    noeudA.addNoeudAdjacent(noeudB,12);
    noeudA.addNoeudAdjacent(noeudD,2);

    noeudB.addNoeudAdjacent(noeudA,12);
    noeudB.addNoeudAdjacent(noeudC,4);

    noeudC.addNoeudAdjacent(noeudB,4);
    noeudC.addNoeudAdjacent(noeudE,6);

    noeudD.addNoeudAdjacent(noeudE,10);
    noeudD.addNoeudAdjacent(noeudA,2);

    noeudE.addNoeudAdjacent(noeudC,6);
    noeudE.addNoeudAdjacent(noeudD,10);


    Graphe graphe = new Graphe();

    graphe.addNoeud(noeudA);
    graphe.addNoeud(noeudB);
    graphe.addNoeud(noeudC);
    graphe.addNoeud(noeudD);
    graphe.addNoeud(noeudE);

    graphe = Graphe.dijkstra(graphe,noeudA);
    for (Noeud n : graphe.getNoeuds()) {
      for (Noeud n2 : n.getPlusCourtChemin()) {
        System.out.print(n2.getNom() + "   " + n2.getDistance() + " | ");
      }
      System.out.print(n.getNom() + "   " + n.getDistance());
      System.out.println();
    }
  }
}

```

*Classe Noeud*

```java
package quoridor.dijkstra;
import quoridor.*;
import java.util.ArrayList;
import java.util.HashMap;

/**
  * La classe Noeud permet de transformer une case de notre damier en Noeud
  * @author griffin568 , Drmarsupial35
  * @version 0.1.0
  */
public class Noeud {

  private String nom;
  private ArrayList<Noeud> plusCourtChemin;
  private Integer distance = Integer.MAX_VALUE;
  private HashMap<Noeud , Integer> adjacents;

  /**
    * Créé un nouveau Noeud sans paramètres autres que son nom
    * @param nom le nom du noeud
    */
    public Noeud (String nom) {
      try {
        if (nom == null) {
          throw new Exception ("Erreur du constructeur Noeud(), parametre null");
        }
        else {
          this.nom = nom;
          this.plusCourtChemin = new ArrayList<Noeud>();
          this.adjacents = new HashMap<Noeud , Integer>();
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Créé un nouveau Noeud en passant les noeuds adjacents en paramètre
    * @param nom le nom du noeud
    * @param adjacents la carte des noeuds adjacents
    */
    public Noeud (String nom , HashMap<Noeud , Integer> adjacents) {
      try {
        if (nom == null || adjacents == null) {
          throw new Exception ("Erreur du constructeur Noeud(), parametre null");
        }
        else {
          this.nom = nom;
          this.plusCourtChemin = new ArrayList<Noeud>();
          this.adjacents = adjacents;
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Ajoute un nouveau noeud adjacent
    * @param noeud le noeud adjacent
    * @param distance sa distance par rapport à ce noeud
    */
    public void addNoeudAdjacent (Noeud noeud , int distance) {
      try {
        if (noeud == null || distance < 0) {
          throw new Exception ("Erreur addNoeudAdjacent(), parametre invalide");
        }
        else {
          this.adjacents.put(noeud,distance);
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Donne le nom du noeud
    * @return le nom du noeud
    */
    public String getNom() {
      return this.nom;
    }

  /**
    * Donne le plus court chemin identifié depuis ce noeud
    * @return le plus court chemin
    */
    public ArrayList<Noeud> getPlusCourtChemin() {
      return this.plusCourtChemin;
    }

  /**
    * Donne la distance du noeud par rapport à la source
    * @return la distance par rapport à la source
    */
    public Integer getDistance() {
      return this.distance;
    }

  /**
    * Donne la carte des noeuds adjacents à celui-ci
    * @return la carte des noeuds adjacents
    */
    public HashMap<Noeud,Integer> getAdjacents() {
      return this.adjacents;
    }

  /**
    * Donne un nouveau nom au noeud
    * @param nom le nouveau nom
    */
    public void setNom (String nom) {
      try {
        if (nom == null) {
          throw new Exception ("Erreur setNom(), parametre null");
        }
        else {
          this.nom = nom;
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Remplace la liste contenant le plus court chemin par une nouvelle
    * @param plusCourtChemin la nouvelle liste
    */
    public void setPlusCourtChemin (ArrayList<Noeud> plusCourtChemin) {
      try {
        if (plusCourtChemin == null) {
          throw new Exception("Erreur setPlusCourtChemin(), parametre null");
        }
        else {
          this.plusCourtChemin = plusCourtChemin;
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Donne une nouvelle valeur à la distance
    * @param distance la nouvelle distance
    */
    public void setDistance (int distance) {
      try {
        if (distance < 0) {
          throw new Exception ("Erreur setDistance(), parametre invalide");
        }
        else {
          this.distance = distance;
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

  /**
    * Remplace la carte des noeuds adjacents par une nouvelle
    * @param adjacents la nouvelle carte
    */
    public void setAdjacents (HashMap<Noeud,Integer> adjacents) {
      try {
        if (adjacents == null) {
          throw new Exception("Erreur setAdjacents(), parametre null");
        }
        else {
          this.adjacents = adjacents;
        }
      }
      catch (Exception e) {
        System.err.println(e.getMessage());
      }
    }

}
```

